(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{411:function(t,e,v){"use strict";v.r(e);var _=v(56),a=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"分布式消息中间件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分布式消息中间件"}},[t._v("#")]),t._v(" 分布式消息中间件")]),t._v(" "),v("h2",{attrs:{id:"单体应用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#单体应用"}},[t._v("#")]),t._v(" 单体应用")]),t._v(" "),v("img",{staticStyle:{zoom:"67%"},attrs:{src:"C:\\Users\\抽屉里的Senny\\AppData\\Roaming\\Typora\\typora-user-images\\image-20211228202840340.png",alt:"image-20211228202840340"}}),t._v(" "),v("h2",{attrs:{id:"分布式系统"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分布式系统"}},[t._v("#")]),t._v(" 分布式系统")]),t._v(" "),v("p",[v("strong",[t._v("业务足够复杂，团队协作，与外部系统调用接口")])]),t._v(" "),v("p",[v("strong",[t._v("分布式系统：将一个系统按照业务模块拆分（拆分原则）划分为多个独立子系统")])]),t._v(" "),v("p",[v("strong",[t._v("优点：")])]),t._v(" "),v("ol",[v("li",[t._v("业务模块相互独立，某一个业务模块升级，不用升级整个系统")]),t._v(" "),v("li",[t._v("开发方便，不需要代码合并")]),t._v(" "),v("li",[t._v("如果某一个业务模块压力大，只需要对该业务模块单独进行扩展（水平扩展），其他业务不受影响，可以充分利用资源（并发分配资源）")])]),t._v(" "),v("p",[v("strong",[t._v("缺点：")])]),t._v(" "),v("ol",[v("li",[t._v("系统之间交互，需要通过rpc、rest、mq来实现，系统间有较强的耦合度")]),t._v(" "),v("li",[t._v("当某一个业务大时，还是会出现业务系统崩溃的情况")])]),t._v(" "),v("p",[v("strong",[t._v("什么是消息中间件：")])]),t._v(" "),v("p",[t._v("​\t\t利用高效可靠的消息传递机制进行平台无关的数据交流，基于数据通信来进行分布式系统的集成，通过提供消息传递和消息排队模型，可以在分布式环境下扩展进程间的通信")]),t._v(" "),v("p",[v("strong",[t._v("消息中间件的应用场景：")])]),t._v(" "),v("p",[t._v("​\t\t跨系统数据传递、高并发流量削峰、数据异步处理······")]),t._v(" "),v("p",[v("strong",[t._v("常见的消息中间件：")])]),t._v(" "),v("p",[t._v("​\t\tActiveMQ、RabbitMQ、Kafka、RocketMQ")]),t._v(" "),v("p",[v("strong",[t._v("消息中间件的本质：")])]),t._v(" "),v("p",[t._v("​\t\t一种具备接受请求、保存数据、发送数据等功能的网络应用，和一般网络应用程序的区别是它主要负责数据的接收和传递，所以性能一般高于普通程序")]),t._v(" "),v("p",[v("strong",[t._v("5大核心组成")])]),t._v(" "),v("p",[t._v("​\t\t协议、持久化机制、消息分发机制、高可用设计、高可靠设计")]),t._v(" "),v("p",[t._v("**1.协议：**计算机之间通信时共同遵从的一组约定，数据格式和计算机之间交换数据时遵守的规则")]),t._v(" "),v("p",[t._v("消息中间件常用的协议：AMQP、MQTT、Kafka、OpenMessage")]),t._v(" "),v("p",[t._v("为什么消息中间件不采用Http协议？  中间件原则是高效处理，http过于复杂 —— header等报文传递和有请求就要响应")]),t._v(" "),v("p",[t._v("​\t"),v("strong",[t._v("常见协议：")])]),t._v(" "),v("ul",[v("li",[t._v("AMQP协议：高级消息队列协议，出生于金融行业，那肯定是全能且牛掰，支持事务、持久化，高可靠")]),t._v(" "),v("li",[t._v("MQTT协议：消息队列遥测传输，即时通信协议，轻量、结构简单、传输快、不支持事务、持久化，适用于计算能力有限、低带宽、网络不稳定的场景如app消息推送、物联网等")]),t._v(" "),v("li",[t._v("OpenMessage：由阿里等创建的分布式消息中间件、流处理领域的应用开发标准，结构简单、解析快、支持事务、持久化")]),t._v(" "),v("li",[t._v("Kafka：基于TCP的二进制协议，消息内部通过长度来分隔，由一些基本数据类型组成，结构简单、解析快，无事务，有持久化设计")])]),t._v(" "),v("p",[t._v("**2.持久化：**将数据存入磁盘，使数据永久保存")]),t._v(" "),v("p",[t._v("ActiveMQ、RabbitMQ、Kafka、RocketMQ都支持文件系统的持久化，其中ActiveMQ支持写入数据库")]),t._v(" "),v("p",[v("strong",[t._v("3.消息分发")])]),t._v(" "),v("p",[t._v("​\t\t业务场景一：消息中间件分发消息到多个子系统")]),t._v(" "),v("p",[t._v("​\t\t业务场景二：失败重发")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"center"}}),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("ActiveMQ")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("RabbitMQ")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("Kafka")]),t._v(" "),v("th",{staticStyle:{"text-align":"center"}},[t._v("RocketMQ")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("发布订阅")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("轮询分发")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("/")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("公平分发")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("/")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("重发")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"center"}},[v("strong",[t._v("消息拉取")])]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("/")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")]),t._v(" "),v("td",{staticStyle:{"text-align":"center"}},[t._v("支持")])])])]),t._v(" "),v("p",[v("strong",[t._v("4.高可用")])]),t._v(" "),v("p",[t._v("​\t\t指产品在规定的条件和时刻、时间区间内处于可执行规定功能状态的能力。当业务量大时，一台消息中间件服务器可能无法满足需求，所以需要消息中间件能够集群部署，来达到高可用的目的")]),t._v(" "),v("p",[t._v("Master/Slave主从共享数据（mysql、redis、mongodb主从复制）")]),t._v(" "),v("img",{staticStyle:{zoom:"50%"},attrs:{src:"C:\\Users\\抽屉里的Senny\\AppData\\Roaming\\Typora\\typora-user-images\\image-20211229233702000.png",alt:"image-20211229233702000"}}),t._v(" "),v("p",[v("strong",[t._v("5.高可靠")])]),t._v(" "),v("p",[t._v("​\t\t指系统可以无故障的持续运行，比如一个系统从来不崩溃、报错或者几率极低")]),t._v(" "),v("p",[t._v("保证消息中间件的高可靠性：1.消息传输可靠 —— 协议   2.消息存储可靠 —— 持久化")])])}),[],!1,null,null,null);e.default=a.exports}}]);